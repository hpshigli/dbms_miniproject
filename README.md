# ASI – Cloud Security Management System
A MySQL + Streamlit Based Mini-Project

## 1. Overview
The **ASI (Automated Security Insights)** system enables tracking and management of cloud assets, exposures, vulnerabilities, patches, deployments, alerts, and incidents across multiple cloud providers.

This project includes:

- Database design and schema (DDL)
- DML with CRUD operations
- Advanced SQL (aggregates, joins, nested queries)
- Triggers, stored procedures, and functions
- A multi-page Streamlit GUI to demonstrate and manage the system

---

## 2. Features

### Database Features
- Relational database with referential integrity
- CRUD operations for all main entities
- Automated alert creation via triggers
- Stored functions and procedures for repeatable logic
- Advanced SQL for analytics and insights

### Streamlit GUI Features
- One page per table with Add, Update, Delete and View operations
- Read-only Alerts page (populated by triggers)
- Analytical pages:
  - Aggregate Functions
  - Join Queries (Inner, Left, Right, Multi-Join)
  - Nested Queries
- Overview dashboard with key indicators and charts

---

## 3. Data Model

### Entities
- `CLOUD_ACCOUNT` – Cloud accounts
- `ASSET` – Cloud assets/resources
- `EXPOSURE` – Exposed services/ports per asset
- `VULNERABILITY` – Vulnerabilities per asset
- `PATCH` – Patch details for each vulnerability
- `PATCH_DEPLOYMENT` – Deployment status of patches
- `ALERT` – Alerts generated by triggers or system actions
- `INCIDENT` – Incidents raised based on alerts

### Relationships
- One cloud account → many assets
- One asset → many exposures and vulnerabilities
- One vulnerability → one patch
- One patch → multiple deployments
- CRUD on selected tables produces new alerts via triggers

---

## 4. Database Schema (DDL)
Highlights:
- Primary keys with `AUTO_INCREMENT`
- Foreign key constraints
- `ENUM` fields for defined status and severity levels
- Timestamps with default values

The full schema is included in `sql_script.sql`.

---

## 5. DML and CRUD Operations
Implemented for all primary tables using SQL and through the Streamlit GUI:

- Insert new records
- Edit/update existing records
- Delete records
- View table contents

Alerts are never modified directly; they are auto-generated by triggers.

---

## 6. Triggers, Functions, and Procedures

### Triggers
Triggers automatically insert alert records into the `ALERT` table when CRUD activities occur on:

| Table               | Events                   | Trigger Purpose                                |
|---------------------|---------------------------|-------------------------------------------------|
| `VULNERABILITY`     | INSERT, UPDATE, DELETE    | Creates vulnerability-based alerts              |
| `EXPOSURE`          | INSERT, UPDATE, DELETE    | Logs changes in exposure                        |
| `PATCH`             | INSERT, UPDATE, DELETE    | Logs patch availability and updates             |
| `PATCH_DEPLOYMENT`  | INSERT, UPDATE, DELETE    | Logs deployment progress or failures            |

### Stored Procedures
| Procedure                                | Description                                     |
|-------------------------------------------|-------------------------------------------------|
| `sp_get_critical_vulns()`                 | Returns all critical vulnerabilities             |
| `sp_get_assets_by_provider(provider)`     | Lists all assets for a selected provider         |

### Stored Functions
| Function                                      | Returns                                      |
|------------------------------------------------|-----------------------------------------------|
| `fn_total_vulnerabilities()`                   | Count of vulnerabilities                      |
| `fn_get_asset_name(asset_id)`                  | Asset name for the given asset ID             |

---

## 7. Advanced SQL Queries

The project includes:

- Aggregate queries (COUNT, AVG, MIN/MAX, GROUP BY, HAVING)
- Joins
  - Inner Join
  - Left Join
  - Right Join
  - Multi-table joins linking 4+ tables
- Nested and correlated subqueries using:
  - `IN`
  - `EXISTS`
  - Subquery inside `HAVING`
  - Top-N queries

All these queries are available in separate Streamlit pages for demonstration.

---

## 8. Streamlit Application Layout

